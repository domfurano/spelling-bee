{"version":3,"sources":["../src/entity.ts","../src/engine.ts","../src/family.ts","../src/system.ts","../src/index.ts","../node_modules/@mesa-engine/core/index.js","components/render.component.ts","components/text.component.ts","components/position.component.ts","components/size.component.ts","components/interactiveComponent.ts","components/answer.component.ts","components/index.ts","blueprints/renderable.blueprint.ts","blueprints/candidateAnswerBlueprint.ts","blueprints/hexagon.blueprint.ts","blueprints/index.ts","model/point.ts","systems/scene-creator.system.ts","systems/text-generation.system.ts","systems/interactionListenerSystem.ts","systems/interactionHandlerSystem.ts","systems/render.system.ts","systems/index.ts","index.ts","../../../../../usr/local/lib/node_modules/@mesa-engine/cli/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.77de5100.js","sourceRoot":"../src","sourcesContent":[null,null,null,null,"import {Engine} from '@mesa-engine/core';\nimport * as s from './systems';\n\nexport class App {\n  engine: Engine;\n  lastRender = 0;\n\n  constructor() {\n    this.engine = new Engine();\n    this.engine.addSystems(...Object.keys(s).map(system => new s[system]()));\n    window.requestAnimationFrame(this.loop.bind(this));\n  }\n\n  loop(timestamp) {\n    var progress = timestamp - this.lastRender;\n    this.engine.update(progress);\n    this.lastRender = timestamp;\n    window.requestAnimationFrame(this.loop.bind(this));\n  }\n}\n\nnew App();\n","module.exports = require(\"./lib/index\");","import {Component} from '@mesa-engine/core';\n\nexport class RenderComponent implements Component {\n  color: string = 'black';\n  opacity: number = 1;\n}","import {Component} from '@mesa-engine/core';\n\nexport class TextComponent implements Component {\n  text: string;\n  font: string;\n  color: string;\n  align: string;\n  baseLine: string;\n}","import {Component} from '@mesa-engine/core';\n\nexport class PositionComponent implements Component {\n  x: number = 0;\n  y: number = 0;\n}","import {Component} from '@mesa-engine/core';\n\nexport class SizeComponent implements Component {\n  value: number;\n}\n","import {Component} from '@mesa-engine/core';\nimport {Point} from \"../model/point\";\n\nexport class InteractiveComponent implements Component {\n  area: [Point];\n  clicked: boolean;\n}\n","import {Component} from '@mesa-engine/core';\n\nexport class AnswerComponent implements Component {\n}","export * from './render.component';\nexport * from './text.component';\nexport * from './position.component';\nexport * from './size.component';\nexport * from './interactiveComponent';\nexport * from './answer.component';\n","import {Blueprint} from '@mesa-engine/core';\nimport {PositionComponent, RenderComponent} from '../components';\n\nexport class RenderableBlueprint implements Blueprint {\n  components = [\n    {component: PositionComponent},\n    {component: RenderComponent}\n  ];\n}","import {Blueprint} from '@mesa-engine/core';\nimport {RenderableBlueprint} from './renderable.blueprint';\nimport {AnswerComponent, TextComponent} from '../components';\n\nexport class CandidateAnswerBlueprint implements Blueprint {\n  blueprints = [new RenderableBlueprint];\n  components = [\n    {\n      component: TextComponent,\n      value: <TextComponent>{\n        font: '52px sans-serif',\n        color: 'black'\n      }\n    },\n    {\n      component: AnswerComponent\n    }\n  ];\n}\n","import {Blueprint} from '@mesa-engine/core';\nimport {RenderableBlueprint} from './renderable.blueprint';\nimport {InteractiveComponent, RenderComponent, SizeComponent, TextComponent} from '../components';\nimport {Point} from '../model/point';\n\nexport class HexagonBlueprint implements Blueprint {\n  blueprints = [new RenderableBlueprint];\n  components = [\n    {\n      component: SizeComponent,\n      value: <SizeComponent>{\n        value: 55\n      }\n    },\n    {\n      component: RenderComponent,\n      value: <RenderComponent>{\n        color: '#e6e6e6', //#d9d9d9\n        opacity: 1,\n        //#dfb804 gold\n      }\n    },\n    {\n      component: TextComponent,\n      value: <TextComponent>{\n        text: '~',\n        font: '32px sans-serif',\n        color: 'black',\n        align: 'center',\n        baseLine: 'middle'\n      }\n    },\n    {\n      component: InteractiveComponent,\n      value: <InteractiveComponent>{\n        area: new Array<Point>(),\n        clicked: false\n      }\n    }\n  ];\n}","export * from './renderable.blueprint';\nexport * from './candidateAnswerBlueprint';\nexport * from './hexagon.blueprint';\n","export class Point {\n  private readonly _x: number;\n  private readonly _y: number;\n\n  get x(): number {\n    return this._x;\n  }\n\n  get y(): number {\n    return this._y;\n  }\n\n  constructor(x: number, y: number) {\n    this._x = x;\n    this._y = y;\n  }\n\n  toString() {\n    return '{ ' + this.x + ', ' + this.y + ' }';\n  }\n}\n","import {Engine, Entity, System} from \"@mesa-engine/core\";\nimport {CandidateAnswerBlueprint, HexagonBlueprint} from \"../blueprints\";\nimport {InteractiveComponent, PositionComponent, RenderComponent, SizeComponent} from \"../components\";\nimport {Point} from \"../model/point\";\n\nexport class SceneCreatorSystem extends System {\n\n  private entities: Entity[] = [];\n\n  onAttach(engine: Engine) {\n    super.onAttach(engine);\n    window.addEventListener('resize', event => {\n      this.entities.forEach(entity => engine.removeEntity(entity));\n      this.entities = [];\n      this.create(engine);\n    });\n    this.create(engine);\n  }\n\n  update(engine: Engine, delta: number) {\n  }\n\n  create(engine: Engine) {\n    this.createHoneyComb(engine, window.innerWidth / 2, window.innerHeight / 2);\n    this.createCandidateAnswer(engine, window.innerWidth / 2, window.innerHeight / 2);\n  }\n\n  createHoneyComb(engine: Engine, xOrigin: number, yOrigin: number) {\n    // Middle hexagon\n    const hexagaon: Entity = engine.buildEntity(HexagonBlueprint);\n    const positionComponent = hexagaon.getComponent(PositionComponent);\n    const renderComponent = hexagaon.getComponent(RenderComponent);\n    const interactiveComponent = hexagaon.getComponent(InteractiveComponent);\n    const sizeComponent = hexagaon.getComponent(SizeComponent);\n    renderComponent.color = '#f8cd05';\n    positionComponent.x = xOrigin;\n    positionComponent.y = yOrigin;\n    SceneCreatorSystem.createHexagonArea(positionComponent, sizeComponent, interactiveComponent);\n    engine.addEntity(hexagaon);\n    this.entities.push(hexagaon);\n    let distance = 100;\n    for (let i = 0; i < 6; i++) {\n      const hexagaon: Entity = engine.buildEntity(HexagonBlueprint);\n      const positionComponent = hexagaon.getComponent(PositionComponent);\n      const sizeComponent = hexagaon.getComponent(SizeComponent);\n      const interactiveComponent = hexagaon.getComponent(InteractiveComponent);\n      let angle = i * (Math.PI / 3) + Math.PI / 2;\n      positionComponent.x = xOrigin + distance * Math.cos(angle);\n      positionComponent.y = yOrigin + distance * Math.sin(angle);\n      SceneCreatorSystem.createHexagonArea(positionComponent, sizeComponent, interactiveComponent);\n      engine.addEntity(hexagaon);\n      this.entities.push(hexagaon);\n    }\n  }\n\n  private static createHexagonArea(positionComponent, sizeComponent, interactiveComponent) {\n    for (let i = 0; i < 7; i++) {\n      const x = positionComponent.x + sizeComponent.value * Math.cos(i * (Math.PI / 3));\n      const y = positionComponent.y + sizeComponent.value * Math.sin(i * (Math.PI / 3));\n      interactiveComponent.area.push(new Point(x, y));\n    }\n  }\n\n  createCandidateAnswer(engine: Engine, xOrigin: number, yOrigin: number) {\n    const candidateAnswer: Entity = engine.buildEntity(CandidateAnswerBlueprint);\n    const positionComponent = candidateAnswer.getComponent(PositionComponent);\n    positionComponent.x = xOrigin;\n    positionComponent.y = yOrigin - 250;\n    engine.addEntity(candidateAnswer);\n    this.entities.push(candidateAnswer);\n  }\n}\n","import {Engine, Family, FamilyBuilder, System} from \"@mesa-engine/core\";\nimport {PositionComponent, TextComponent} from \"../components\";\n\nexport class TextGenerationSystem extends System {\n  family: Family;\n  ctx: CanvasRenderingContext2D;\n  canvas: HTMLCanvasElement;\n  word: string;\n\n  constructor() {\n    super();\n\n    this.word = TextGenerationSystem.shuffleWord('ALCOVES');\n    this.canvas = document.getElementsByTagName('canvas')[0];\n    this.ctx = <CanvasRenderingContext2D>this.canvas.getContext('2d');\n  }\n\n  onAttach(engine: Engine) {\n    super.onAttach(engine);\n    this.family = new FamilyBuilder(engine).include(TextComponent, PositionComponent).build();\n  }\n\n  update(engine: Engine, delta: number) {\n    for (let i = 0; i < this.family.entities.length; i++) {\n      let entity = this.family.entities[i];\n      if (entity.hasComponent(TextComponent)) {\n        const text = entity.getComponent(TextComponent);\n        text.text = this.word[i];\n      }\n    }\n  }\n\n  private static shuffleWord(word: string) {\n    let array = word.split('');\n    for (let i = array.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array.join('');\n  }\n}\n","import {Engine, Family, FamilyBuilder, System} from \"@mesa-engine/core\";\nimport {InteractiveComponent, TextComponent} from \"../components\";\nimport {Point} from \"../model/point\";\n\nexport class InteractionListenerSystem extends System {\n  private interactionFamily: Family;\n  private clicks: Array<Point>;\n  private answer: string;\n\n\n  constructor() {\n    super();\n    this.clicks = [];\n  }\n\n  onAttach(engine: Engine) {\n    super.onAttach(engine);\n    this.interactionFamily = new FamilyBuilder(engine).include(InteractiveComponent).build();\n    let canvas = document.getElementById('canvas');\n    if (canvas) {\n      canvas.addEventListener('click', event => {\n        this.clicks.push(new Point(event.clientX, event.clientY));\n      });\n    }\n  }\n\n  update(engine: Engine, delta: number): void {\n    for (const entity of this.interactionFamily.entities) {\n      if (entity.hasComponent(InteractiveComponent)) {\n        for (const click of this.clicks) {\n          const interactiveComponent = entity.getComponent(InteractiveComponent);\n          const inside: boolean = InteractionListenerSystem.insidePolygon(interactiveComponent.area, 6, click);\n          if (inside) {\n            interactiveComponent.clicked = true;\n            if (entity.hasComponent(TextComponent)) {\n              const textComponent = entity.getComponent(TextComponent);\n              this.answer += textComponent.text;\n              console.debug(textComponent.text);\n            }\n          }\n        }\n      }\n    }\n    this.clicks = [];\n  }\n\n  // http://www.eecs.umich.edu/courses/eecs380/HANDOUTS/PROJ2/InsidePoly.html\n  private static insidePolygon(points: [Point], N: number, p: Point) {\n    let counter: number = 0;\n    let i: number;\n    let xInters: number;\n    let p1: Point;\n    let p2: Point;\n\n    p1 = points[0];\n    for (i = 1; i <= N; i++) {\n      p2 = points[i % N];\n      if (p.y > Math.min(p1.y, p2.y)) {\n        if (p.y <= Math.max(p1.y, p2.y)) {\n          if (p.x <= Math.max(p1.x, p2.x)) {\n            if (p1.y != p2.y) {\n              xInters = (p.y - p1.y) * (p2.x - p1.x) / (p2.y - p1.y) + p1.x;\n              if (p1.x == p2.x || p.x <= xInters) {\n                counter++;\n              }\n            }\n          }\n        }\n      }\n      p1 = p2;\n    }\n    return counter % 2 != 0;\n  }\n}\n","import {Engine, Family, FamilyBuilder, System} from \"@mesa-engine/core\";\nimport {AnswerComponent, InteractiveComponent, TextComponent} from \"../components\";\nimport {Point} from \"../model/point\";\n\nexport class InteractionHandlerSystem extends System {\n  private interactionFamily: Family;\n  private answerFamily: Family;\n  private clicks: Array<Point>;\n  private answer: string;\n\n\n  constructor() {\n    super();\n    this.clicks = [];\n  }\n\n  onAttach(engine: Engine) {\n    super.onAttach(engine);\n    this.interactionFamily = new FamilyBuilder(engine).include(InteractiveComponent).build();\n    this.answerFamily = new FamilyBuilder(engine).include(AnswerComponent).build();\n  }\n\n  update(engine: Engine, delta: number): void {\n    for (const interactionEntity of this.interactionFamily.entities) {\n      for (const answerEntity of this.answerFamily.entities) {\n        let interactiveComponent = interactionEntity.getComponent(InteractiveComponent);\n        if (interactiveComponent.clicked) {\n          interactiveComponent.clicked = false;\n          let interactionEntityTextComponent = interactionEntity.getComponent(TextComponent);\n          let answerEntityTextComponent = answerEntity.getComponent(TextComponent);\n          answerEntityTextComponent.text = interactionEntityTextComponent.text;\n        }\n      }\n    }\n  }\n}\n","import {Engine, Family, FamilyBuilder, System} from \"@mesa-engine/core\";\nimport {InteractiveComponent, PositionComponent, RenderComponent, TextComponent} from \"../components\";\n\nexport class RenderSystem extends System {\n  family: Family;\n  ctx: CanvasRenderingContext2D;\n  canvas: HTMLCanvasElement;\n\n  constructor() {\n    super();\n    this.canvas = document.getElementById('canvas');\n    if (this.canvas) {\n      this.canvas.id = 'canvas';\n      this.canvas.width = window.innerWidth;\n      this.canvas.height = window.innerHeight;\n      this.ctx = <CanvasRenderingContext2D>this.canvas.getContext('2d');\n    }\n  }\n\n  onAttach(engine: Engine) {\n    super.onAttach(engine);\n    this.family = new FamilyBuilder(engine).include(PositionComponent, RenderComponent).build();\n  }\n\n  update(engine: Engine, delta: number) {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    for (let entity of this.family.entities) {\n      const position = entity.getComponent(PositionComponent);\n      const render = entity.getComponent(RenderComponent);\n      this.ctx.fillStyle = render.color;\n      this.ctx.globalAlpha = render.opacity;\n\n      if (entity.hasComponent(InteractiveComponent)) {\n        const interactiveComponent = entity.getComponent(InteractiveComponent);\n        this.ctx.beginPath();\n        for (let point of interactiveComponent.area) {\n          this.ctx.lineTo(point.x, point.y);\n        }\n        this.ctx.closePath();\n        this.ctx.fillStyle = render.color;\n        this.ctx.fill();\n      }\n\n      if (entity.hasComponent(TextComponent)) {\n        const text = entity.getComponent(TextComponent);\n        this.ctx.font = text.font;\n        this.ctx.fillStyle = text.color;\n        this.ctx.textAlign = text.align;\n        this.ctx.textBaseline = text.baseLine;\n        this.ctx.fillText(text.text, position.x, position.y);\n      }\n    }\n  }\n}","export * from './scene-creator.system';\nexport * from './text-generation.system';\nexport * from './interactionListenerSystem';\nexport * from './interactionHandlerSystem';\nexport * from './render.system';\n","import {Engine} from '@mesa-engine/core';\nimport * as s from './systems';\n\nexport class App {\n  engine: Engine;\n  lastRender = 0;\n\n  constructor() {\n    this.engine = new Engine();\n    this.engine.addSystems(...Object.keys(s).map(system => new s[system]()));\n    window.requestAnimationFrame(this.loop.bind(this));\n  }\n\n  loop(timestamp) {\n    var progress = timestamp - this.lastRender;\n    this.engine.update(progress);\n    this.lastRender = timestamp;\n    window.requestAnimationFrame(this.loop.bind(this));\n  }\n}\n\nnew App();\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}